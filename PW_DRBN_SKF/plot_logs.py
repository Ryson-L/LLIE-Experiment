import matplotlib.pyplot as plt
import re
import numpy as np

# ==========================================
# 区域 1: 数据粘贴区
# 请把控制台打印出来的 Log 完整粘贴到下面的三引号 """ 之间
# ==========================================

# 1. Lambda = 0 的 Log (示例)
log_lambda_0 = """
Epoch   2:  G-PSNR=9.9482  M-PSNR=10.0802  B-PSNR=9.8798  |  G-SSIM=0.3883  M-SSIM=0.3485  B-SSIM=0.3937  |  LPIPS-G=0.8415  LPIPS-M=0.2264  LPIPS-B=0.5815
Epoch   3:  G-PSNR=8.6602  M-PSNR=8.4724  B-PSNR=8.6715  |  G-SSIM=0.5351  M-SSIM=0.5041  B-SSIM=0.5373  |  LPIPS-G=0.7770  LPIPS-M=0.2366  LPIPS-B=0.5735
Epoch   4:  G-PSNR=8.8586  M-PSNR=8.1873  B-PSNR=9.1267  |  G-SSIM=0.5154  M-SSIM=0.4729  B-SSIM=0.5187  |  LPIPS-G=0.7579  LPIPS-M=0.2219  LPIPS-B=0.5529
Epoch   5:  G-PSNR=9.5030  M-PSNR=8.4116  B-PSNR=10.1356  |  G-SSIM=0.6313  M-SSIM=0.5834  B-SSIM=0.6336  |  LPIPS-G=0.6729  LPIPS-M=0.2140  LPIPS-B=0.4960
Epoch   6:  G-PSNR=12.1512  M-PSNR=11.5423  B-PSNR=12.4728  |  G-SSIM=0.6416  M-SSIM=0.5708  B-SSIM=0.6531  |  LPIPS-G=0.5664  LPIPS-M=0.1689  LPIPS-B=0.4128
Epoch   7:  G-PSNR=15.4979  M-PSNR=15.7998  B-PSNR=15.6712  |  G-SSIM=0.7432  M-SSIM=0.7010  B-SSIM=0.7416  |  LPIPS-G=0.4835  LPIPS-M=0.1363  LPIPS-B=0.3493
Epoch   8:  G-PSNR=16.6649  M-PSNR=16.4614  B-PSNR=16.8871  |  G-SSIM=0.7695  M-SSIM=0.7333  B-SSIM=0.7659  |  LPIPS-G=0.4608  LPIPS-M=0.1309  LPIPS-B=0.3303
Epoch   9:  G-PSNR=16.6007  M-PSNR=16.4337  B-PSNR=16.7687  |  G-SSIM=0.7535  M-SSIM=0.7029  B-SSIM=0.7545  |  LPIPS-G=0.4482  LPIPS-M=0.1260  LPIPS-B=0.3218
Epoch  10:  G-PSNR=18.0276  M-PSNR=17.9847  B-PSNR=18.2845  |  G-SSIM=0.7948  M-SSIM=0.7609  B-SSIM=0.7896  |  LPIPS-G=0.4178  LPIPS-M=0.1118  LPIPS-B=0.2973
Epoch  11:  G-PSNR=18.8641  M-PSNR=19.0001  B-PSNR=19.1007  |  G-SSIM=0.8077  M-SSIM=0.7769  B-SSIM=0.8009  |  LPIPS-G=0.4017  LPIPS-M=0.1050  LPIPS-B=0.2860
Epoch  12:  G-PSNR=18.2348  M-PSNR=18.0204  B-PSNR=18.4747  |  G-SSIM=0.8135  M-SSIM=0.7844  B-SSIM=0.8061  |  LPIPS-G=0.4240  LPIPS-M=0.1133  LPIPS-B=0.3117
Epoch  13:  G-PSNR=18.5818  M-PSNR=18.5538  B-PSNR=18.7879  |  G-SSIM=0.8064  M-SSIM=0.7685  B-SSIM=0.8026  |  LPIPS-G=0.3982  LPIPS-M=0.1067  LPIPS-B=0.2845
Epoch  14:  G-PSNR=18.9380  M-PSNR=18.7317  B-PSNR=19.2125  |  G-SSIM=0.8206  M-SSIM=0.7894  B-SSIM=0.8144  |  LPIPS-G=0.3814  LPIPS-M=0.0992  LPIPS-B=0.2759
Epoch  15:  G-PSNR=19.1244  M-PSNR=18.9401  B-PSNR=19.4347  |  G-SSIM=0.8206  M-SSIM=0.7872  B-SSIM=0.8155  |  LPIPS-G=0.3740  LPIPS-M=0.0987  LPIPS-B=0.2695
Epoch  16:  G-PSNR=18.9493  M-PSNR=19.0824  B-PSNR=19.0376  |  G-SSIM=0.8289  M-SSIM=0.7965  B-SSIM=0.8231  |  LPIPS-G=0.3830  LPIPS-M=0.0975  LPIPS-B=0.2782
Epoch  17:  G-PSNR=19.8026  M-PSNR=19.9328  B-PSNR=20.0207  |  G-SSIM=0.8336  M-SSIM=0.8039  B-SSIM=0.8276  |  LPIPS-G=0.3552  LPIPS-M=0.0897  LPIPS-B=0.2565
Epoch  18:  G-PSNR=20.1290  M-PSNR=20.3143  B-PSNR=20.2799  |  G-SSIM=0.8385  M-SSIM=0.8094  B-SSIM=0.8317  |  LPIPS-G=0.3410  LPIPS-M=0.0833  LPIPS-B=0.2462
Epoch  19:  G-PSNR=19.9781  M-PSNR=20.0974  B-PSNR=20.1271  |  G-SSIM=0.8406  M-SSIM=0.8115  B-SSIM=0.8347  |  LPIPS-G=0.3343  LPIPS-M=0.0843  LPIPS-B=0.2426
Epoch  20:  G-PSNR=20.0350  M-PSNR=20.2288  B-PSNR=20.1659  |  G-SSIM=0.8429  M-SSIM=0.8127  B-SSIM=0.8371  |  LPIPS-G=0.3237  LPIPS-M=0.0827  LPIPS-B=0.2361
Epoch  21:  G-PSNR=19.5203  M-PSNR=19.6792  B-PSNR=19.5476  |  G-SSIM=0.8429  M-SSIM=0.8136  B-SSIM=0.8369  |  LPIPS-G=0.3286  LPIPS-M=0.0840  LPIPS-B=0.2430
Epoch  22:  G-PSNR=19.8865  M-PSNR=20.2816  B-PSNR=19.9731  |  G-SSIM=0.8394  M-SSIM=0.8064  B-SSIM=0.8359  |  LPIPS-G=0.3277  LPIPS-M=0.0844  LPIPS-B=0.2397
Epoch  23:  G-PSNR=19.8160  M-PSNR=19.9941  B-PSNR=19.9216  |  G-SSIM=0.8416  M-SSIM=0.8084  B-SSIM=0.8383  |  LPIPS-G=0.3108  LPIPS-M=0.0772  LPIPS-B=0.2290
Epoch  24:  G-PSNR=20.3475  M-PSNR=20.7822  B-PSNR=20.3753  |  G-SSIM=0.8480  M-SSIM=0.8187  B-SSIM=0.8432  |  LPIPS-G=0.3076  LPIPS-M=0.0738  LPIPS-B=0.2265
Epoch  25:  G-PSNR=20.1583  M-PSNR=20.3997  B-PSNR=20.2895  |  G-SSIM=0.8410  M-SSIM=0.8070  B-SSIM=0.8389  |  LPIPS-G=0.3078  LPIPS-M=0.0785  LPIPS-B=0.2251
Epoch  26:  G-PSNR=20.7320  M-PSNR=21.3592  B-PSNR=20.7299  |  G-SSIM=0.8515  M-SSIM=0.8222  B-SSIM=0.8466  |  LPIPS-G=0.2976  LPIPS-M=0.0712  LPIPS-B=0.2194
Epoch  27:  G-PSNR=20.8351  M-PSNR=21.4538  B-PSNR=20.8482  |  G-SSIM=0.8514  M-SSIM=0.8224  B-SSIM=0.8468  |  LPIPS-G=0.2836  LPIPS-M=0.0694  LPIPS-B=0.2091
Epoch  28:  G-PSNR=20.3063  M-PSNR=20.7995  B-PSNR=20.2818  |  G-SSIM=0.8505  M-SSIM=0.8207  B-SSIM=0.8465  |  LPIPS-G=0.2922  LPIPS-M=0.0728  LPIPS-B=0.2170
Epoch  29:  G-PSNR=20.8998  M-PSNR=21.6344  B-PSNR=20.9524  |  G-SSIM=0.8541  M-SSIM=0.8242  B-SSIM=0.8501  |  LPIPS-G=0.2825  LPIPS-M=0.0692  LPIPS-B=0.2084
Epoch  30:  G-PSNR=19.7214  M-PSNR=19.9995  B-PSNR=19.7240  |  G-SSIM=0.8499  M-SSIM=0.8166  B-SSIM=0.8485  |  LPIPS-G=0.2951  LPIPS-M=0.0751  LPIPS-B=0.2217
Epoch  31:  G-PSNR=20.6591  M-PSNR=21.1110  B-PSNR=20.6648  |  G-SSIM=0.8519  M-SSIM=0.8196  B-SSIM=0.8498  |  LPIPS-G=0.2822  LPIPS-M=0.0684  LPIPS-B=0.2087
Epoch  32:  G-PSNR=20.7329  M-PSNR=21.2969  B-PSNR=20.7297  |  G-SSIM=0.8507  M-SSIM=0.8177  B-SSIM=0.8488  |  LPIPS-G=0.2793  LPIPS-M=0.0688  LPIPS-B=0.2058
Epoch  33:  G-PSNR=20.7405  M-PSNR=21.2754  B-PSNR=20.7023  |  G-SSIM=0.8557  M-SSIM=0.8260  B-SSIM=0.8522  |  LPIPS-G=0.2814  LPIPS-M=0.0701  LPIPS-B=0.2089
Epoch  34:  G-PSNR=20.7450  M-PSNR=21.0889  B-PSNR=20.7674  |  G-SSIM=0.8534  M-SSIM=0.8194  B-SSIM=0.8521  |  LPIPS-G=0.2745  LPIPS-M=0.0682  LPIPS-B=0.2036
Epoch  35:  G-PSNR=21.0614  M-PSNR=21.6697  B-PSNR=21.0832  |  G-SSIM=0.8583  M-SSIM=0.8282  B-SSIM=0.8554  |  LPIPS-G=0.2656  LPIPS-M=0.0641  LPIPS-B=0.1971
Epoch  36:  G-PSNR=21.0482  M-PSNR=21.4570  B-PSNR=21.1322  |  G-SSIM=0.8540  M-SSIM=0.8207  B-SSIM=0.8533  |  LPIPS-G=0.2621  LPIPS-M=0.0656  LPIPS-B=0.1934
Epoch  37:  G-PSNR=20.7593  M-PSNR=20.8438  B-PSNR=20.9062  |  G-SSIM=0.8499  M-SSIM=0.8127  B-SSIM=0.8510  |  LPIPS-G=0.2584  LPIPS-M=0.0674  LPIPS-B=0.1911
Epoch  38:  G-PSNR=20.4635  M-PSNR=21.0401  B-PSNR=20.3774  |  G-SSIM=0.8597  M-SSIM=0.8304  B-SSIM=0.8560  |  LPIPS-G=0.2885  LPIPS-M=0.0741  LPIPS-B=0.2177
Epoch  39:  G-PSNR=19.9830  M-PSNR=19.8121  B-PSNR=20.1895  |  G-SSIM=0.8352  M-SSIM=0.7907  B-SSIM=0.8388  |  LPIPS-G=0.2620  LPIPS-M=0.0685  LPIPS-B=0.1948
Epoch  40:  G-PSNR=20.5863  M-PSNR=20.7018  B-PSNR=20.6883  |  G-SSIM=0.8485  M-SSIM=0.8107  B-SSIM=0.8501  |  LPIPS-G=0.2612  LPIPS-M=0.0698  LPIPS-B=0.1942
Epoch  41:  G-PSNR=21.1796  M-PSNR=21.5285  B-PSNR=21.2250  |  G-SSIM=0.8613  M-SSIM=0.8312  B-SSIM=0.8598  |  LPIPS-G=0.2537  LPIPS-M=0.0616  LPIPS-B=0.1892
Epoch  42:  G-PSNR=19.8724  M-PSNR=19.8530  B-PSNR=19.9193  |  G-SSIM=0.8601  M-SSIM=0.8284  B-SSIM=0.8599  |  LPIPS-G=0.2765  LPIPS-M=0.0744  LPIPS-B=0.2092
Epoch  43:  G-PSNR=20.8330  M-PSNR=20.9358  B-PSNR=20.8887  |  G-SSIM=0.8603  M-SSIM=0.8290  B-SSIM=0.8599  |  LPIPS-G=0.2531  LPIPS-M=0.0650  LPIPS-B=0.1893
Epoch  44:  G-PSNR=21.2014  M-PSNR=21.4384  B-PSNR=21.2268  |  G-SSIM=0.8621  M-SSIM=0.8316  B-SSIM=0.8614  |  LPIPS-G=0.2420  LPIPS-M=0.0618  LPIPS-B=0.1804
Epoch  45:  G-PSNR=19.2091  M-PSNR=18.8742  B-PSNR=19.4071  |  G-SSIM=0.8370  M-SSIM=0.7922  B-SSIM=0.8412  |  LPIPS-G=0.2710  LPIPS-M=0.0754  LPIPS-B=0.2071
Epoch  46:  G-PSNR=21.0898  M-PSNR=21.1872  B-PSNR=21.2457  |  G-SSIM=0.8567  M-SSIM=0.8230  B-SSIM=0.8578  |  LPIPS-G=0.2460  LPIPS-M=0.0660  LPIPS-B=0.1821
Epoch  47:  G-PSNR=21.2502  M-PSNR=21.4771  B-PSNR=21.2649  |  G-SSIM=0.8645  M-SSIM=0.8341  B-SSIM=0.8640  |  LPIPS-G=0.2399  LPIPS-M=0.0621  LPIPS-B=0.1789
Epoch  48:  G-PSNR=21.6134  M-PSNR=21.9408  B-PSNR=21.6929  |  G-SSIM=0.8640  M-SSIM=0.8330  B-SSIM=0.8641  |  LPIPS-G=0.2333  LPIPS-M=0.0575  LPIPS-B=0.1737
Epoch  49:  G-PSNR=21.1617  M-PSNR=21.2865  B-PSNR=21.1823  |  G-SSIM=0.8644  M-SSIM=0.8341  B-SSIM=0.8642  |  LPIPS-G=0.2348  LPIPS-M=0.0611  LPIPS-B=0.1758
Epoch  50:  G-PSNR=21.0062  M-PSNR=21.0998  B-PSNR=21.0371  |  G-SSIM=0.8614  M-SSIM=0.8284  B-SSIM=0.8623  |  LPIPS-G=0.2395  LPIPS-M=0.0609  LPIPS-B=0.1812
"""

# 2. Lambda = 1e3 的 Log (请替换)
log_lambda_1e3 = """
Epoch   2:  G-PSNR=10.1602  M-PSNR=11.0218  B-PSNR=9.9573  |  G-SSIM=0.1902  M-SSIM=0.1901  B-SSIM=0.1849  |  LPIPS-G=0.8947  LPIPS-M=0.2458  LPIPS-B=0.6206
Epoch   3:  G-PSNR=13.2988  M-PSNR=13.5510  B-PSNR=13.3215  |  G-SSIM=0.2899  M-SSIM=0.2826  B-SSIM=0.2851  |  LPIPS-G=0.7992  LPIPS-M=0.2061  LPIPS-B=0.5468
Epoch   4:  G-PSNR=15.0091  M-PSNR=14.6618  B-PSNR=15.2766  |  G-SSIM=0.3878  M-SSIM=0.3799  B-SSIM=0.3806  |  LPIPS-G=0.6424  LPIPS-M=0.1688  LPIPS-B=0.4508
Epoch   5:  G-PSNR=15.7219  M-PSNR=15.3785  B-PSNR=15.9372  |  G-SSIM=0.5424  M-SSIM=0.5052  B-SSIM=0.5393  |  LPIPS-G=0.6051  LPIPS-M=0.1660  LPIPS-B=0.4228
Epoch   6:  G-PSNR=15.8651  M-PSNR=16.0799  B-PSNR=15.9511  |  G-SSIM=0.5471  M-SSIM=0.5289  B-SSIM=0.5354  |  LPIPS-G=0.5736  LPIPS-M=0.1537  LPIPS-B=0.4243
Epoch   7:  G-PSNR=17.1796  M-PSNR=17.1971  B-PSNR=17.3130  |  G-SSIM=0.6307  M-SSIM=0.6001  B-SSIM=0.6220  |  LPIPS-G=0.5059  LPIPS-M=0.1406  LPIPS-B=0.3612
Epoch   8:  G-PSNR=17.4502  M-PSNR=17.6527  B-PSNR=17.5642  |  G-SSIM=0.6630  M-SSIM=0.6382  B-SSIM=0.6526  |  LPIPS-G=0.4895  LPIPS-M=0.1358  LPIPS-B=0.3450
Epoch   9:  G-PSNR=18.1849  M-PSNR=18.7250  B-PSNR=18.1326  |  G-SSIM=0.6811  M-SSIM=0.6605  B-SSIM=0.6675  |  LPIPS-G=0.4740  LPIPS-M=0.1199  LPIPS-B=0.3416
Epoch  10:  G-PSNR=18.3046  M-PSNR=18.2978  B-PSNR=18.3696  |  G-SSIM=0.6853  M-SSIM=0.6593  B-SSIM=0.6737  |  LPIPS-G=0.4499  LPIPS-M=0.1200  LPIPS-B=0.3242
Epoch  11:  G-PSNR=18.7150  M-PSNR=19.4331  B-PSNR=18.5814  |  G-SSIM=0.7019  M-SSIM=0.6825  B-SSIM=0.6869  |  LPIPS-G=0.4325  LPIPS-M=0.1113  LPIPS-B=0.3148
Epoch  12:  G-PSNR=18.2121  M-PSNR=18.9855  B-PSNR=18.0938  |  G-SSIM=0.6615  M-SSIM=0.6238  B-SSIM=0.6547  |  LPIPS-G=0.4355  LPIPS-M=0.1101  LPIPS-B=0.3252
Epoch  13:  G-PSNR=19.0687  M-PSNR=19.5842  B-PSNR=18.9977  |  G-SSIM=0.7154  M-SSIM=0.6993  B-SSIM=0.6985  |  LPIPS-G=0.4209  LPIPS-M=0.1021  LPIPS-B=0.3102
Epoch  14:  G-PSNR=19.4210  M-PSNR=19.5433  B-PSNR=19.4201  |  G-SSIM=0.7289  M-SSIM=0.7093  B-SSIM=0.7138  |  LPIPS-G=0.3978  LPIPS-M=0.1012  LPIPS-B=0.2902
Epoch  15:  G-PSNR=19.2794  M-PSNR=19.5300  B-PSNR=19.2231  |  G-SSIM=0.7420  M-SSIM=0.7234  B-SSIM=0.7262  |  LPIPS-G=0.3861  LPIPS-M=0.1004  LPIPS-B=0.2843
Epoch  16:  G-PSNR=19.9468  M-PSNR=20.3703  B-PSNR=19.8980  |  G-SSIM=0.7388  M-SSIM=0.7220  B-SSIM=0.7213  |  LPIPS-G=0.3898  LPIPS-M=0.0945  LPIPS-B=0.2865
Epoch  17:  G-PSNR=19.8325  M-PSNR=20.5275  B-PSNR=19.7034  |  G-SSIM=0.7365  M-SSIM=0.7103  B-SSIM=0.7245  |  LPIPS-G=0.3741  LPIPS-M=0.0917  LPIPS-B=0.2786
Epoch  18:  G-PSNR=19.9654  M-PSNR=20.1729  B-PSNR=19.9257  |  G-SSIM=0.7588  M-SSIM=0.7396  B-SSIM=0.7421  |  LPIPS-G=0.3681  LPIPS-M=0.0937  LPIPS-B=0.2705
Epoch  19:  G-PSNR=20.0101  M-PSNR=20.6532  B-PSNR=19.9258  |  G-SSIM=0.7403  M-SSIM=0.7248  B-SSIM=0.7247  |  LPIPS-G=0.3634  LPIPS-M=0.0885  LPIPS-B=0.2680
Epoch  20:  G-PSNR=19.8412  M-PSNR=20.0860  B-PSNR=19.8031  |  G-SSIM=0.7566  M-SSIM=0.7303  B-SSIM=0.7423  |  LPIPS-G=0.3578  LPIPS-M=0.0893  LPIPS-B=0.2655
Epoch  21:  G-PSNR=20.5991  M-PSNR=20.8179  B-PSNR=20.5524  |  G-SSIM=0.7793  M-SSIM=0.7607  B-SSIM=0.7629  |  LPIPS-G=0.3399  LPIPS-M=0.0849  LPIPS-B=0.2490
Epoch  22:  G-PSNR=19.5534  M-PSNR=19.3573  B-PSNR=19.6660  |  G-SSIM=0.7607  M-SSIM=0.7276  B-SSIM=0.7498  |  LPIPS-G=0.3591  LPIPS-M=0.0979  LPIPS-B=0.2626
Epoch  23:  G-PSNR=21.0186  M-PSNR=21.3877  B-PSNR=20.9715  |  G-SSIM=0.7751  M-SSIM=0.7581  B-SSIM=0.7604  |  LPIPS-G=0.3319  LPIPS-M=0.0822  LPIPS-B=0.2442
Epoch  24:  G-PSNR=21.0715  M-PSNR=21.4667  B-PSNR=21.0031  |  G-SSIM=0.7853  M-SSIM=0.7677  B-SSIM=0.7689  |  LPIPS-G=0.3284  LPIPS-M=0.0803  LPIPS-B=0.2414
Epoch  25:  G-PSNR=20.6926  M-PSNR=21.3308  B-PSNR=20.5348  |  G-SSIM=0.7555  M-SSIM=0.7295  B-SSIM=0.7466  |  LPIPS-G=0.3331  LPIPS-M=0.0819  LPIPS-B=0.2505
Epoch  26:  G-PSNR=20.9801  M-PSNR=21.4553  B-PSNR=20.8873  |  G-SSIM=0.7753  M-SSIM=0.7559  B-SSIM=0.7631  |  LPIPS-G=0.3361  LPIPS-M=0.0808  LPIPS-B=0.2505
Epoch  27:  G-PSNR=21.3597  M-PSNR=21.6724  B-PSNR=21.3343  |  G-SSIM=0.7948  M-SSIM=0.7751  B-SSIM=0.7792  |  LPIPS-G=0.3211  LPIPS-M=0.0792  LPIPS-B=0.2355
Epoch  28:  G-PSNR=20.7063  M-PSNR=20.8651  B-PSNR=20.6948  |  G-SSIM=0.7972  M-SSIM=0.7724  B-SSIM=0.7838  |  LPIPS-G=0.3134  LPIPS-M=0.0788  LPIPS-B=0.2283
Epoch  29:  G-PSNR=21.5045  M-PSNR=21.9721  B-PSNR=21.4348  |  G-SSIM=0.8040  M-SSIM=0.7831  B-SSIM=0.7897  |  LPIPS-G=0.3092  LPIPS-M=0.0769  LPIPS-B=0.2272
Epoch  30:  G-PSNR=21.4677  M-PSNR=21.9174  B-PSNR=21.3857  |  G-SSIM=0.8028  M-SSIM=0.7832  B-SSIM=0.7893  |  LPIPS-G=0.3131  LPIPS-M=0.0747  LPIPS-B=0.2313
Epoch  31:  G-PSNR=21.6487  M-PSNR=22.2196  B-PSNR=21.5192  |  G-SSIM=0.7956  M-SSIM=0.7769  B-SSIM=0.7841  |  LPIPS-G=0.3091  LPIPS-M=0.0726  LPIPS-B=0.2297
Epoch  32:  G-PSNR=21.5303  M-PSNR=22.2558  B-PSNR=21.3332  |  G-SSIM=0.8083  M-SSIM=0.7911  B-SSIM=0.7949  |  LPIPS-G=0.3208  LPIPS-M=0.0739  LPIPS-B=0.2402
Epoch  33:  G-PSNR=21.7226  M-PSNR=22.4829  B-PSNR=21.5893  |  G-SSIM=0.7906  M-SSIM=0.7703  B-SSIM=0.7803  |  LPIPS-G=0.3009  LPIPS-M=0.0703  LPIPS-B=0.2255
Epoch  34:  G-PSNR=21.3742  M-PSNR=21.9003  B-PSNR=21.2925  |  G-SSIM=0.8109  M-SSIM=0.7882  B-SSIM=0.7973  |  LPIPS-G=0.3012  LPIPS-M=0.0712  LPIPS-B=0.2245
Epoch  35:  G-PSNR=20.9865  M-PSNR=21.1503  B-PSNR=21.0077  |  G-SSIM=0.8146  M-SSIM=0.7936  B-SSIM=0.8014  |  LPIPS-G=0.2896  LPIPS-M=0.0735  LPIPS-B=0.2114
Epoch  36:  G-PSNR=21.6642  M-PSNR=21.9703  B-PSNR=21.6266  |  G-SSIM=0.8151  M-SSIM=0.7924  B-SSIM=0.8019  |  LPIPS-G=0.2897  LPIPS-M=0.0711  LPIPS-B=0.2132
Epoch  37:  G-PSNR=21.7357  M-PSNR=22.6361  B-PSNR=21.5271  |  G-SSIM=0.8148  M-SSIM=0.7945  B-SSIM=0.8029  |  LPIPS-G=0.2956  LPIPS-M=0.0682  LPIPS-B=0.2215
Epoch  38:  G-PSNR=22.0849  M-PSNR=22.5696  B-PSNR=22.0311  |  G-SSIM=0.8082  M-SSIM=0.7868  B-SSIM=0.7971  |  LPIPS-G=0.2903  LPIPS-M=0.0695  LPIPS-B=0.2152
Epoch  39:  G-PSNR=21.0354  M-PSNR=21.7317  B-PSNR=20.8376  |  G-SSIM=0.8226  M-SSIM=0.8024  B-SSIM=0.8110  |  LPIPS-G=0.2972  LPIPS-M=0.0731  LPIPS-B=0.2234
Epoch  40:  G-PSNR=21.5183  M-PSNR=21.6146  B-PSNR=21.5494  |  G-SSIM=0.8140  M-SSIM=0.7899  B-SSIM=0.8013  |  LPIPS-G=0.2904  LPIPS-M=0.0734  LPIPS-B=0.2139
Epoch  41:  G-PSNR=21.6106  M-PSNR=21.9116  B-PSNR=21.5449  |  G-SSIM=0.8093  M-SSIM=0.7825  B-SSIM=0.8012  |  LPIPS-G=0.2895  LPIPS-M=0.0674  LPIPS-B=0.2159
Epoch  42:  G-PSNR=21.0163  M-PSNR=21.2228  B-PSNR=21.0110  |  G-SSIM=0.8140  M-SSIM=0.7879  B-SSIM=0.8027  |  LPIPS-G=0.2949  LPIPS-M=0.0691  LPIPS-B=0.2190
Epoch  43:  G-PSNR=22.3199  M-PSNR=23.0587  B-PSNR=22.1835  |  G-SSIM=0.8328  M-SSIM=0.8109  B-SSIM=0.8202  |  LPIPS-G=0.2730  LPIPS-M=0.0642  LPIPS-B=0.2022
Epoch  44:  G-PSNR=21.2656  M-PSNR=21.6092  B-PSNR=21.1877  |  G-SSIM=0.8214  M-SSIM=0.7975  B-SSIM=0.8092  |  LPIPS-G=0.2803  LPIPS-M=0.0673  LPIPS-B=0.2114
Epoch  45:  G-PSNR=22.1595  M-PSNR=22.3759  B-PSNR=22.1451  |  G-SSIM=0.8362  M-SSIM=0.8128  B-SSIM=0.8251  |  LPIPS-G=0.2615  LPIPS-M=0.0644  LPIPS-B=0.1922
Epoch  46:  G-PSNR=21.5464  M-PSNR=21.9489  B-PSNR=21.4629  |  G-SSIM=0.8274  M-SSIM=0.8043  B-SSIM=0.8156  |  LPIPS-G=0.2715  LPIPS-M=0.0622  LPIPS-B=0.2034
Epoch  47:  G-PSNR=21.9127  M-PSNR=22.2657  B-PSNR=21.8307  |  G-SSIM=0.8290  M-SSIM=0.8029  B-SSIM=0.8182  |  LPIPS-G=0.2643  LPIPS-M=0.0617  LPIPS-B=0.1976
Epoch  48:  G-PSNR=22.2193  M-PSNR=22.9813  B-PSNR=22.0543  |  G-SSIM=0.8390  M-SSIM=0.8177  B-SSIM=0.8282  |  LPIPS-G=0.2595  LPIPS-M=0.0589  LPIPS-B=0.1953
Epoch  49:  G-PSNR=21.6571  M-PSNR=21.7626  B-PSNR=21.6733  |  G-SSIM=0.8227  M-SSIM=0.7940  B-SSIM=0.8128  |  LPIPS-G=0.2737  LPIPS-M=0.0680  LPIPS-B=0.2023
Epoch  50:  G-PSNR=22.1055  M-PSNR=23.0311  B-PSNR=21.8759  |  G-SSIM=0.8244  M-SSIM=0.8023  B-SSIM=0.8158  |  LPIPS-G=0.2726  LPIPS-M=0.0605  LPIPS-B=0.2073
"""

# 3. Lambda = 1e6 的 Log (请替换)
log_lambda_1e6 = """
Epoch   2:  G-PSNR=9.6456  M-PSNR=10.5063  B-PSNR=9.4503  |  G-SSIM=0.2246  M-SSIM=0.2210  B-SSIM=0.2196  |  LPIPS-G=0.9263  LPIPS-M=0.2461  LPIPS-B=0.6387
Epoch   3:  G-PSNR=12.9765  M-PSNR=13.6570  B-PSNR=12.9055  |  G-SSIM=0.4225  M-SSIM=0.4154  B-SSIM=0.4141  |  LPIPS-G=0.6449  LPIPS-M=0.1815  LPIPS-B=0.4690
Epoch   4:  G-PSNR=16.0662  M-PSNR=16.6388  B-PSNR=16.1447  |  G-SSIM=0.5329  M-SSIM=0.5002  B-SSIM=0.5282  |  LPIPS-G=0.5699  LPIPS-M=0.1610  LPIPS-B=0.4006
Epoch   5:  G-PSNR=16.2874  M-PSNR=16.9463  B-PSNR=16.3097  |  G-SSIM=0.5436  M-SSIM=0.5196  B-SSIM=0.5343  |  LPIPS-G=0.5901  LPIPS-M=0.1577  LPIPS-B=0.4150
Epoch   6:  G-PSNR=17.3186  M-PSNR=17.6349  B-PSNR=17.3643  |  G-SSIM=0.5666  M-SSIM=0.5473  B-SSIM=0.5551  |  LPIPS-G=0.5585  LPIPS-M=0.1418  LPIPS-B=0.3921
Epoch   7:  G-PSNR=17.8454  M-PSNR=18.2200  B-PSNR=17.8895  |  G-SSIM=0.6408  M-SSIM=0.6183  B-SSIM=0.6286  |  LPIPS-G=0.4815  LPIPS-M=0.1295  LPIPS-B=0.3441
Epoch   8:  G-PSNR=17.7173  M-PSNR=17.8479  B-PSNR=17.8276  |  G-SSIM=0.6623  M-SSIM=0.6333  B-SSIM=0.6529  |  LPIPS-G=0.4687  LPIPS-M=0.1275  LPIPS-B=0.3346
Epoch   9:  G-PSNR=18.3185  M-PSNR=18.3836  B-PSNR=18.3268  |  G-SSIM=0.6894  M-SSIM=0.6643  B-SSIM=0.6768  |  LPIPS-G=0.4506  LPIPS-M=0.1177  LPIPS-B=0.3262
Epoch  10:  G-PSNR=18.1677  M-PSNR=18.0916  B-PSNR=18.2539  |  G-SSIM=0.6832  M-SSIM=0.6561  B-SSIM=0.6719  |  LPIPS-G=0.4405  LPIPS-M=0.1179  LPIPS-B=0.3215
Epoch  11:  G-PSNR=18.9812  M-PSNR=19.6196  B-PSNR=18.8345  |  G-SSIM=0.7138  M-SSIM=0.6950  B-SSIM=0.6986  |  LPIPS-G=0.4200  LPIPS-M=0.1069  LPIPS-B=0.3078
Epoch  12:  G-PSNR=18.3330  M-PSNR=19.1547  B-PSNR=18.1573  |  G-SSIM=0.6689  M-SSIM=0.6270  B-SSIM=0.6630  |  LPIPS-G=0.4364  LPIPS-M=0.1073  LPIPS-B=0.3331
Epoch  13:  G-PSNR=19.0996  M-PSNR=19.8123  B-PSNR=18.9793  |  G-SSIM=0.7188  M-SSIM=0.7008  B-SSIM=0.7032  |  LPIPS-G=0.3932  LPIPS-M=0.0967  LPIPS-B=0.2897
Epoch  14:  G-PSNR=19.2744  M-PSNR=19.2637  B-PSNR=19.3075  |  G-SSIM=0.7237  M-SSIM=0.7004  B-SSIM=0.7099  |  LPIPS-G=0.3900  LPIPS-M=0.0986  LPIPS-B=0.2828
Epoch  15:  G-PSNR=19.3096  M-PSNR=19.5997  B-PSNR=19.2388  |  G-SSIM=0.7545  M-SSIM=0.7352  B-SSIM=0.7388  |  LPIPS-G=0.3697  LPIPS-M=0.0963  LPIPS-B=0.2727
Epoch  16:  G-PSNR=20.1551  M-PSNR=20.7183  B-PSNR=20.0517  |  G-SSIM=0.7560  M-SSIM=0.7393  B-SSIM=0.7382  |  LPIPS-G=0.3701  LPIPS-M=0.0892  LPIPS-B=0.2723
Epoch  17:  G-PSNR=19.4648  M-PSNR=20.1688  B-PSNR=19.3491  |  G-SSIM=0.7177  M-SSIM=0.6763  B-SSIM=0.7120  |  LPIPS-G=0.3707  LPIPS-M=0.0919  LPIPS-B=0.2788
Epoch  18:  G-PSNR=19.8313  M-PSNR=20.2526  B-PSNR=19.7222  |  G-SSIM=0.7617  M-SSIM=0.7449  B-SSIM=0.7436  |  LPIPS-G=0.3671  LPIPS-M=0.0913  LPIPS-B=0.2732
Epoch  19:  G-PSNR=20.1136  M-PSNR=20.7116  B-PSNR=20.0574  |  G-SSIM=0.7457  M-SSIM=0.7260  B-SSIM=0.7316  |  LPIPS-G=0.3535  LPIPS-M=0.0869  LPIPS-B=0.2610
Epoch  20:  G-PSNR=19.6905  M-PSNR=19.7674  B-PSNR=19.7322  |  G-SSIM=0.7572  M-SSIM=0.7246  B-SSIM=0.7456  |  LPIPS-G=0.3505  LPIPS-M=0.0904  LPIPS-B=0.2590
Epoch  21:  G-PSNR=20.6587  M-PSNR=20.7882  B-PSNR=20.6520  |  G-SSIM=0.7848  M-SSIM=0.7672  B-SSIM=0.7683  |  LPIPS-G=0.3322  LPIPS-M=0.0843  LPIPS-B=0.2426
Epoch  22:  G-PSNR=19.8670  M-PSNR=19.7547  B-PSNR=19.9497  |  G-SSIM=0.7714  M-SSIM=0.7388  B-SSIM=0.7605  |  LPIPS-G=0.3456  LPIPS-M=0.0932  LPIPS-B=0.2529
Epoch  23:  G-PSNR=21.0615  M-PSNR=21.5236  B-PSNR=20.9830  |  G-SSIM=0.7814  M-SSIM=0.7646  B-SSIM=0.7659  |  LPIPS-G=0.3236  LPIPS-M=0.0799  LPIPS-B=0.2385
Epoch  24:  G-PSNR=21.0399  M-PSNR=21.4369  B-PSNR=20.9734  |  G-SSIM=0.7901  M-SSIM=0.7730  B-SSIM=0.7734  |  LPIPS-G=0.3199  LPIPS-M=0.0779  LPIPS-B=0.2355
Epoch  25:  G-PSNR=21.1861  M-PSNR=21.7088  B-PSNR=21.0672  |  G-SSIM=0.7715  M-SSIM=0.7480  B-SSIM=0.7608  |  LPIPS-G=0.3196  LPIPS-M=0.0763  LPIPS-B=0.2392
Epoch  26:  G-PSNR=21.3299  M-PSNR=21.8983  B-PSNR=21.2027  |  G-SSIM=0.7874  M-SSIM=0.7675  B-SSIM=0.7754  |  LPIPS-G=0.3211  LPIPS-M=0.0758  LPIPS-B=0.2396
Epoch  27:  G-PSNR=21.3129  M-PSNR=21.6645  B-PSNR=21.2894  |  G-SSIM=0.8003  M-SSIM=0.7816  B-SSIM=0.7846  |  LPIPS-G=0.3195  LPIPS-M=0.0789  LPIPS-B=0.2346
Epoch  28:  G-PSNR=20.6049  M-PSNR=20.8476  B-PSNR=20.5527  |  G-SSIM=0.8090  M-SSIM=0.7860  B-SSIM=0.7948  |  LPIPS-G=0.3027  LPIPS-M=0.0753  LPIPS-B=0.2214
Epoch  29:  G-PSNR=21.3440  M-PSNR=21.8597  B-PSNR=21.2362  |  G-SSIM=0.8099  M-SSIM=0.7902  B-SSIM=0.7951  |  LPIPS-G=0.3049  LPIPS-M=0.0758  LPIPS-B=0.2259
Epoch  30:  G-PSNR=21.6314  M-PSNR=22.1555  B-PSNR=21.5270  |  G-SSIM=0.8104  M-SSIM=0.7923  B-SSIM=0.7957  |  LPIPS-G=0.2989  LPIPS-M=0.0712  LPIPS-B=0.2216
Epoch  31:  G-PSNR=21.7206  M-PSNR=22.1884  B-PSNR=21.6012  |  G-SSIM=0.8091  M-SSIM=0.7897  B-SSIM=0.7964  |  LPIPS-G=0.3028  LPIPS-M=0.0697  LPIPS-B=0.2258
Epoch  32:  G-PSNR=21.0653  M-PSNR=21.7369  B-PSNR=20.8626  |  G-SSIM=0.8139  M-SSIM=0.7931  B-SSIM=0.8008  |  LPIPS-G=0.3267  LPIPS-M=0.0754  LPIPS-B=0.2481
Epoch  33:  G-PSNR=21.5952  M-PSNR=22.2914  B-PSNR=21.4389  |  G-SSIM=0.8059  M-SSIM=0.7852  B-SSIM=0.7937  |  LPIPS-G=0.2952  LPIPS-M=0.0691  LPIPS-B=0.2228
Epoch  34:  G-PSNR=21.4195  M-PSNR=22.0968  B-PSNR=21.2960  |  G-SSIM=0.8166  M-SSIM=0.7946  B-SSIM=0.8028  |  LPIPS-G=0.2964  LPIPS-M=0.0682  LPIPS-B=0.2217
Epoch  35:  G-PSNR=21.0473  M-PSNR=21.3641  B-PSNR=21.0304  |  G-SSIM=0.8158  M-SSIM=0.7979  B-SSIM=0.8014  |  LPIPS-G=0.2849  LPIPS-M=0.0696  LPIPS-B=0.2093
Epoch  36:  G-PSNR=21.6875  M-PSNR=21.9069  B-PSNR=21.6702  |  G-SSIM=0.8140  M-SSIM=0.7932  B-SSIM=0.8010  |  LPIPS-G=0.2865  LPIPS-M=0.0691  LPIPS-B=0.2124
Epoch  37:  G-PSNR=21.4639  M-PSNR=22.3795  B-PSNR=21.2330  |  G-SSIM=0.8177  M-SSIM=0.7968  B-SSIM=0.8050  |  LPIPS-G=0.2984  LPIPS-M=0.0669  LPIPS-B=0.2273
Epoch  38:  G-PSNR=21.8522  M-PSNR=22.3722  B-PSNR=21.7658  |  G-SSIM=0.8150  M-SSIM=0.7943  B-SSIM=0.8025  |  LPIPS-G=0.2840  LPIPS-M=0.0663  LPIPS-B=0.2111
Epoch  39:  G-PSNR=21.8937  M-PSNR=22.6963  B-PSNR=21.6856  |  G-SSIM=0.8282  M-SSIM=0.8087  B-SSIM=0.8149  |  LPIPS-G=0.2776  LPIPS-M=0.0632  LPIPS-B=0.2087
Epoch  40:  G-PSNR=21.4815  M-PSNR=21.6411  B-PSNR=21.4879  |  G-SSIM=0.8190  M-SSIM=0.7993  B-SSIM=0.8053  |  LPIPS-G=0.2848  LPIPS-M=0.0710  LPIPS-B=0.2106
Epoch  41:  G-PSNR=21.8704  M-PSNR=22.4218  B-PSNR=21.7573  |  G-SSIM=0.8298  M-SSIM=0.8066  B-SSIM=0.8165  |  LPIPS-G=0.2765  LPIPS-M=0.0641  LPIPS-B=0.2053
Epoch  42:  G-PSNR=21.7169  M-PSNR=22.3005  B-PSNR=21.6061  |  G-SSIM=0.8236  M-SSIM=0.8043  B-SSIM=0.8123  |  LPIPS-G=0.2708  LPIPS-M=0.0643  LPIPS-B=0.2014
Epoch  43:  G-PSNR=22.2597  M-PSNR=22.8178  B-PSNR=22.1220  |  G-SSIM=0.8178  M-SSIM=0.7950  B-SSIM=0.8083  |  LPIPS-G=0.2647  LPIPS-M=0.0609  LPIPS-B=0.1989
Epoch  44:  G-PSNR=22.1309  M-PSNR=22.7576  B-PSNR=21.9973  |  G-SSIM=0.8292  M-SSIM=0.8073  B-SSIM=0.8159  |  LPIPS-G=0.2680  LPIPS-M=0.0626  LPIPS-B=0.1996
Epoch  45:  G-PSNR=21.5318  M-PSNR=21.8130  B-PSNR=21.4916  |  G-SSIM=0.8194  M-SSIM=0.7952  B-SSIM=0.8096  |  LPIPS-G=0.2630  LPIPS-M=0.0644  LPIPS-B=0.1964
Epoch  46:  G-PSNR=21.9001  M-PSNR=22.8795  B-PSNR=21.6379  |  G-SSIM=0.8199  M-SSIM=0.8000  B-SSIM=0.8078  |  LPIPS-G=0.2781  LPIPS-M=0.0604  LPIPS-B=0.2122
Epoch  47:  G-PSNR=21.9195  M-PSNR=22.8825  B-PSNR=21.6851  |  G-SSIM=0.8142  M-SSIM=0.7894  B-SSIM=0.8050  |  LPIPS-G=0.2725  LPIPS-M=0.0596  LPIPS-B=0.2079
Epoch  48:  G-PSNR=21.6990  M-PSNR=21.9840  B-PSNR=21.6307  |  G-SSIM=0.8311  M-SSIM=0.8126  B-SSIM=0.8178  |  LPIPS-G=0.2663  LPIPS-M=0.0601  LPIPS-B=0.2016
Epoch  49:  G-PSNR=22.0331  M-PSNR=22.4826  B-PSNR=21.8991  |  G-SSIM=0.8305  M-SSIM=0.8122  B-SSIM=0.8163  |  LPIPS-G=0.2620  LPIPS-M=0.0591  LPIPS-B=0.1978
Epoch  50:  G-PSNR=21.5477  M-PSNR=21.8904  B-PSNR=21.4559  |  G-SSIM=0.8308  M-SSIM=0.8040  B-SSIM=0.8193  |  LPIPS-G=0.2595  LPIPS-M=0.0582  LPIPS-B=0.1947
"""

# 4. Lambda = 1e18 的 Log (请替换)
log_lambda_1e18 = """
Epoch   2:  G-PSNR=10.0935  M-PSNR=10.8690  B-PSNR=9.9091  |  G-SSIM=0.1971  M-SSIM=0.1952  B-SSIM=0.1924  |  LPIPS-G=0.9004  LPIPS-M=0.2482  LPIPS-B=0.6248
Epoch   3:  G-PSNR=11.9737  M-PSNR=12.8217  B-PSNR=11.7869  |  G-SSIM=0.3203  M-SSIM=0.3233  B-SSIM=0.3118  |  LPIPS-G=0.7481  LPIPS-M=0.1990  LPIPS-B=0.5306
Epoch   4:  G-PSNR=15.9167  M-PSNR=16.7249  B-PSNR=15.9087  |  G-SSIM=0.5051  M-SSIM=0.4890  B-SSIM=0.4942  |  LPIPS-G=0.5667  LPIPS-M=0.1538  LPIPS-B=0.4000
Epoch   5:  G-PSNR=15.8800  M-PSNR=15.5483  B-PSNR=16.0769  |  G-SSIM=0.5607  M-SSIM=0.5230  B-SSIM=0.5573  |  LPIPS-G=0.5493  LPIPS-M=0.1621  LPIPS-B=0.3858
Epoch   6:  G-PSNR=17.0430  M-PSNR=17.6692  B-PSNR=17.0801  |  G-SSIM=0.5948  M-SSIM=0.5856  B-SSIM=0.5791  |  LPIPS-G=0.5013  LPIPS-M=0.1353  LPIPS-B=0.3596
Epoch   7:  G-PSNR=17.6235  M-PSNR=18.1096  B-PSNR=17.6330  |  G-SSIM=0.6444  M-SSIM=0.6210  B-SSIM=0.6318  |  LPIPS-G=0.4857  LPIPS-M=0.1313  LPIPS-B=0.3498
Epoch   8:  G-PSNR=17.9545  M-PSNR=18.1367  B-PSNR=18.0371  |  G-SSIM=0.6802  M-SSIM=0.6609  B-SSIM=0.6664  |  LPIPS-G=0.4745  LPIPS-M=0.1284  LPIPS-B=0.3361
Epoch   9:  G-PSNR=18.1693  M-PSNR=18.2427  B-PSNR=18.1977  |  G-SSIM=0.6881  M-SSIM=0.6639  B-SSIM=0.6763  |  LPIPS-G=0.4592  LPIPS-M=0.1182  LPIPS-B=0.3276
Epoch  10:  G-PSNR=18.1855  M-PSNR=18.2414  B-PSNR=18.2296  |  G-SSIM=0.6887  M-SSIM=0.6631  B-SSIM=0.6767  |  LPIPS-G=0.4382  LPIPS-M=0.1145  LPIPS-B=0.3196
Epoch  11:  G-PSNR=19.0557  M-PSNR=19.7291  B-PSNR=18.9187  |  G-SSIM=0.7149  M-SSIM=0.6953  B-SSIM=0.6996  |  LPIPS-G=0.4223  LPIPS-M=0.1067  LPIPS-B=0.3079
Epoch  12:  G-PSNR=18.5091  M-PSNR=19.2867  B-PSNR=18.3750  |  G-SSIM=0.6796  M-SSIM=0.6432  B-SSIM=0.6718  |  LPIPS-G=0.4208  LPIPS-M=0.1056  LPIPS-B=0.3154
Epoch  13:  G-PSNR=19.4437  M-PSNR=20.0973  B-PSNR=19.3334  |  G-SSIM=0.7266  M-SSIM=0.7078  B-SSIM=0.7110  |  LPIPS-G=0.3927  LPIPS-M=0.0972  LPIPS-B=0.2877
Epoch  14:  G-PSNR=18.2350  M-PSNR=18.6560  B-PSNR=18.1586  |  G-SSIM=0.3990  M-SSIM=0.4271  B-SSIM=0.3762  |  LPIPS-G=0.4670  LPIPS-M=0.1130  LPIPS-B=0.3384
Epoch  15:  G-PSNR=19.3328  M-PSNR=19.5315  B-PSNR=19.2949  |  G-SSIM=0.7485  M-SSIM=0.7252  B-SSIM=0.7343  |  LPIPS-G=0.3753  LPIPS-M=0.0984  LPIPS-B=0.2751
Epoch  16:  G-PSNR=20.0943  M-PSNR=20.6010  B-PSNR=20.0063  |  G-SSIM=0.7534  M-SSIM=0.7381  B-SSIM=0.7351  |  LPIPS-G=0.3828  LPIPS-M=0.0910  LPIPS-B=0.2812
Epoch  17:  G-PSNR=19.3010  M-PSNR=20.0469  B-PSNR=19.1630  |  G-SSIM=0.6980  M-SSIM=0.6564  B-SSIM=0.6928  |  LPIPS-G=0.3798  LPIPS-M=0.0958  LPIPS-B=0.2875
Epoch  18:  G-PSNR=19.9201  M-PSNR=20.1165  B-PSNR=19.8934  |  G-SSIM=0.7556  M-SSIM=0.7358  B-SSIM=0.7391  |  LPIPS-G=0.3711  LPIPS-M=0.0956  LPIPS-B=0.2726
Epoch  19:  G-PSNR=20.1742  M-PSNR=20.6868  B-PSNR=20.1325  |  G-SSIM=0.7504  M-SSIM=0.7320  B-SSIM=0.7362  |  LPIPS-G=0.3588  LPIPS-M=0.0884  LPIPS-B=0.2633
Epoch  20:  G-PSNR=19.5770  M-PSNR=19.5068  B-PSNR=19.6350  |  G-SSIM=0.7527  M-SSIM=0.7193  B-SSIM=0.7409  |  LPIPS-G=0.3621  LPIPS-M=0.0963  LPIPS-B=0.2664
Epoch  21:  G-PSNR=20.5755  M-PSNR=20.7366  B-PSNR=20.5667  |  G-SSIM=0.7819  M-SSIM=0.7626  B-SSIM=0.7652  |  LPIPS-G=0.3397  LPIPS-M=0.0857  LPIPS-B=0.2478
Epoch  22:  G-PSNR=19.7477  M-PSNR=19.5407  B-PSNR=19.8561  |  G-SSIM=0.7658  M-SSIM=0.7321  B-SSIM=0.7549  |  LPIPS-G=0.3503  LPIPS-M=0.0949  LPIPS-B=0.2557
Epoch  23:  G-PSNR=21.0177  M-PSNR=21.4566  B-PSNR=20.9516  |  G-SSIM=0.7776  M-SSIM=0.7592  B-SSIM=0.7638  |  LPIPS-G=0.3290  LPIPS-M=0.0814  LPIPS-B=0.2421
Epoch  24:  G-PSNR=21.0959  M-PSNR=21.4217  B-PSNR=21.0590  |  G-SSIM=0.7890  M-SSIM=0.7720  B-SSIM=0.7725  |  LPIPS-G=0.3238  LPIPS-M=0.0799  LPIPS-B=0.2372
Epoch  25:  G-PSNR=20.7876  M-PSNR=21.3456  B-PSNR=20.6341  |  G-SSIM=0.7659  M-SSIM=0.7419  B-SSIM=0.7555  |  LPIPS-G=0.3284  LPIPS-M=0.0809  LPIPS-B=0.2451
Epoch  26:  G-PSNR=21.0830  M-PSNR=21.5818  B-PSNR=20.9788  |  G-SSIM=0.7738  M-SSIM=0.7500  B-SSIM=0.7640  |  LPIPS-G=0.3344  LPIPS-M=0.0793  LPIPS-B=0.2491
Epoch  27:  G-PSNR=21.3202  M-PSNR=21.6009  B-PSNR=21.3035  |  G-SSIM=0.7990  M-SSIM=0.7780  B-SSIM=0.7837  |  LPIPS-G=0.3177  LPIPS-M=0.0785  LPIPS-B=0.2325
Epoch  28:  G-PSNR=20.7577  M-PSNR=20.9814  B-PSNR=20.7220  |  G-SSIM=0.8037  M-SSIM=0.7791  B-SSIM=0.7899  |  LPIPS-G=0.3089  LPIPS-M=0.0766  LPIPS-B=0.2253
Epoch  29:  G-PSNR=21.6250  M-PSNR=21.9862  B-PSNR=21.5895  |  G-SSIM=0.8107  M-SSIM=0.7891  B-SSIM=0.7966  |  LPIPS-G=0.3061  LPIPS-M=0.0756  LPIPS-B=0.2239
Epoch  30:  G-PSNR=21.5875  M-PSNR=22.0952  B-PSNR=21.5106  |  G-SSIM=0.8097  M-SSIM=0.7890  B-SSIM=0.7973  |  LPIPS-G=0.3070  LPIPS-M=0.0733  LPIPS-B=0.2265
Epoch  31:  G-PSNR=21.5687  M-PSNR=21.9400  B-PSNR=21.4967  |  G-SSIM=0.8017  M-SSIM=0.7835  B-SSIM=0.7895  |  LPIPS-G=0.3070  LPIPS-M=0.0718  LPIPS-B=0.2275
Epoch  32:  G-PSNR=21.5759  M-PSNR=22.2361  B-PSNR=21.4052  |  G-SSIM=0.8127  M-SSIM=0.7953  B-SSIM=0.7996  |  LPIPS-G=0.3142  LPIPS-M=0.0723  LPIPS-B=0.2350
Epoch  33:  G-PSNR=21.6568  M-PSNR=22.4115  B-PSNR=21.5514  |  G-SSIM=0.8000  M-SSIM=0.7790  B-SSIM=0.7891  |  LPIPS-G=0.2977  LPIPS-M=0.0695  LPIPS-B=0.2227
Epoch  34:  G-PSNR=21.4399  M-PSNR=22.0519  B-PSNR=21.3539  |  G-SSIM=0.8154  M-SSIM=0.7944  B-SSIM=0.8012  |  LPIPS-G=0.2972  LPIPS-M=0.0703  LPIPS-B=0.2214
Epoch  35:  G-PSNR=21.1586  M-PSNR=21.4139  B-PSNR=21.1597  |  G-SSIM=0.8189  M-SSIM=0.7996  B-SSIM=0.8052  |  LPIPS-G=0.2890  LPIPS-M=0.0720  LPIPS-B=0.2113
Epoch  36:  G-PSNR=21.6593  M-PSNR=21.9115  B-PSNR=21.6522  |  G-SSIM=0.8182  M-SSIM=0.7967  B-SSIM=0.8053  |  LPIPS-G=0.2895  LPIPS-M=0.0698  LPIPS-B=0.2137
Epoch  37:  G-PSNR=21.6190  M-PSNR=22.4340  B-PSNR=21.4267  |  G-SSIM=0.8169  M-SSIM=0.7971  B-SSIM=0.8037  |  LPIPS-G=0.2919  LPIPS-M=0.0662  LPIPS-B=0.2191
Epoch  38:  G-PSNR=22.0177  M-PSNR=22.5882  B-PSNR=21.9560  |  G-SSIM=0.8101  M-SSIM=0.7917  B-SSIM=0.7975  |  LPIPS-G=0.2851  LPIPS-M=0.0668  LPIPS-B=0.2117
Epoch  39:  G-PSNR=21.0095  M-PSNR=21.6660  B-PSNR=20.8249  |  G-SSIM=0.8238  M-SSIM=0.8047  B-SSIM=0.8119  |  LPIPS-G=0.2927  LPIPS-M=0.0707  LPIPS-B=0.2216
Epoch  40:  G-PSNR=21.2741  M-PSNR=21.4843  B-PSNR=21.2916  |  G-SSIM=0.8198  M-SSIM=0.7995  B-SSIM=0.8073  |  LPIPS-G=0.2793  LPIPS-M=0.0690  LPIPS-B=0.2063
Epoch  41:  G-PSNR=21.9248  M-PSNR=22.5080  B-PSNR=21.8247  |  G-SSIM=0.8260  M-SSIM=0.8039  B-SSIM=0.8129  |  LPIPS-G=0.2783  LPIPS-M=0.0646  LPIPS-B=0.2064
Epoch  42:  G-PSNR=21.8938  M-PSNR=22.4436  B-PSNR=21.8131  |  G-SSIM=0.8209  M-SSIM=0.8002  B-SSIM=0.8119  |  LPIPS-G=0.2698  LPIPS-M=0.0641  LPIPS-B=0.2003
Epoch  43:  G-PSNR=22.3012  M-PSNR=22.7721  B-PSNR=22.1887  |  G-SSIM=0.8318  M-SSIM=0.8125  B-SSIM=0.8201  |  LPIPS-G=0.2633  LPIPS-M=0.0606  LPIPS-B=0.1969
Epoch  44:  G-PSNR=22.1130  M-PSNR=22.8113  B-PSNR=21.9854  |  G-SSIM=0.8327  M-SSIM=0.8091  B-SSIM=0.8200  |  LPIPS-G=0.2697  LPIPS-M=0.0629  LPIPS-B=0.2022
Epoch  45:  G-PSNR=21.6650  M-PSNR=22.0702  B-PSNR=21.5502  |  G-SSIM=0.8013  M-SSIM=0.7726  B-SSIM=0.7948  |  LPIPS-G=0.2649  LPIPS-M=0.0635  LPIPS-B=0.2002
Epoch  46:  G-PSNR=21.5121  M-PSNR=22.2803  B-PSNR=21.3904  |  G-SSIM=0.8271  M-SSIM=0.8089  B-SSIM=0.8156  |  LPIPS-G=0.2742  LPIPS-M=0.0621  LPIPS-B=0.2066
Epoch  47:  G-PSNR=22.1183  M-PSNR=23.0352  B-PSNR=21.9018  |  G-SSIM=0.8211  M-SSIM=0.7987  B-SSIM=0.8125  |  LPIPS-G=0.2714  LPIPS-M=0.0602  LPIPS-B=0.2061
Epoch  48:  G-PSNR=21.7331  M-PSNR=21.9870  B-PSNR=21.6906  |  G-SSIM=0.8375  M-SSIM=0.8158  B-SSIM=0.8254  |  LPIPS-G=0.2622  LPIPS-M=0.0602  LPIPS-B=0.1972
Epoch  49:  G-PSNR=21.9950  M-PSNR=22.3812  B-PSNR=21.9260  |  G-SSIM=0.8379  M-SSIM=0.8150  B-SSIM=0.8257  |  LPIPS-G=0.2555  LPIPS-M=0.0587  LPIPS-B=0.1916
Epoch  50:  G-PSNR=21.9671  M-PSNR=22.4801  B-PSNR=21.8380  |  G-SSIM=0.8352  M-SSIM=0.8099  B-SSIM=0.8237  |  LPIPS-G=0.2573  LPIPS-M=0.0577  LPIPS-B=0.1936
"""

# 5. Portrait-GAN 的 Log (请替换)
log_gan = """
Epoch   2:  G-PSNR=9.9304  M-PSNR=10.0646  B-PSNR=9.8604  |  G-SSIM=0.3912  M-SSIM=0.3507  B-SSIM=0.3967  |  LPIPS-G=0.8417  LPIPS-M=0.2266  LPIPS-B=0.5820
Epoch   3:  G-PSNR=8.6221  M-PSNR=8.4225  B-PSNR=8.6390  |  G-SSIM=0.5341  M-SSIM=0.5018  B-SSIM=0.5370  |  LPIPS-G=0.7786  LPIPS-M=0.2367  LPIPS-B=0.5747
Epoch   4:  G-PSNR=8.5334  M-PSNR=7.8176  B-PSNR=8.8394  |  G-SSIM=0.5086  M-SSIM=0.4643  B-SSIM=0.5134  |  LPIPS-G=0.7391  LPIPS-M=0.2210  LPIPS-B=0.5410
Epoch   5:  G-PSNR=9.2728  M-PSNR=8.1779  B-PSNR=9.9185  |  G-SSIM=0.6211  M-SSIM=0.5722  B-SSIM=0.6241  |  LPIPS-G=0.6710  LPIPS-M=0.2136  LPIPS-B=0.4957
Epoch   6:  G-PSNR=12.2935  M-PSNR=11.3071  B-PSNR=12.7993  |  G-SSIM=0.7082  M-SSIM=0.6562  B-SSIM=0.7109  |  LPIPS-G=0.5937  LPIPS-M=0.1865  LPIPS-B=0.4328
Epoch   7:  G-PSNR=15.0868  M-PSNR=15.2473  B-PSNR=15.2150  |  G-SSIM=0.7196  M-SSIM=0.6656  B-SSIM=0.7227  |  LPIPS-G=0.4818  LPIPS-M=0.1379  LPIPS-B=0.3490
Epoch   8:  G-PSNR=16.9944  M-PSNR=16.7657  B-PSNR=17.2191  |  G-SSIM=0.7743  M-SSIM=0.7391  B-SSIM=0.7695  |  LPIPS-G=0.4551  LPIPS-M=0.1284  LPIPS-B=0.3258
Epoch   9:  G-PSNR=16.9983  M-PSNR=17.0816  B-PSNR=17.2350  |  G-SSIM=0.7815  M-SSIM=0.7470  B-SSIM=0.7768  |  LPIPS-G=0.4382  LPIPS-M=0.1210  LPIPS-B=0.3138
Epoch  10:  G-PSNR=17.3458  M-PSNR=17.0162  B-PSNR=17.5667  |  G-SSIM=0.7983  M-SSIM=0.7663  B-SSIM=0.7917  |  LPIPS-G=0.4612  LPIPS-M=0.1286  LPIPS-B=0.3329
Epoch  11:  G-PSNR=18.4390  M-PSNR=18.2246  B-PSNR=18.7223  |  G-SSIM=0.7913  M-SSIM=0.7538  B-SSIM=0.7855  |  LPIPS-G=0.4236  LPIPS-M=0.1131  LPIPS-B=0.3045
Epoch  12:  G-PSNR=18.0851  M-PSNR=17.8858  B-PSNR=18.3238  |  G-SSIM=0.7974  M-SSIM=0.7586  B-SSIM=0.7931  |  LPIPS-G=0.4035  LPIPS-M=0.1084  LPIPS-B=0.2885
Epoch  13:  G-PSNR=18.1201  M-PSNR=18.5096  B-PSNR=18.2424  |  G-SSIM=0.8157  M-SSIM=0.7840  B-SSIM=0.8084  |  LPIPS-G=0.4042  LPIPS-M=0.1042  LPIPS-B=0.2914
Epoch  14:  G-PSNR=17.7028  M-PSNR=17.2132  B-PSNR=17.9949  |  G-SSIM=0.8073  M-SSIM=0.7704  B-SSIM=0.8026  |  LPIPS-G=0.4177  LPIPS-M=0.1148  LPIPS-B=0.3013
Epoch  15:  G-PSNR=19.2273  M-PSNR=19.0937  B-PSNR=19.4462  |  G-SSIM=0.8279  M-SSIM=0.7979  B-SSIM=0.8206  |  LPIPS-G=0.3868  LPIPS-M=0.0978  LPIPS-B=0.2786
Epoch  16:  G-PSNR=18.4454  M-PSNR=18.6731  B-PSNR=18.5299  |  G-SSIM=0.8165  M-SSIM=0.7787  B-SSIM=0.8128  |  LPIPS-G=0.3902  LPIPS-M=0.1037  LPIPS-B=0.2815
Epoch  17:  G-PSNR=19.2371  M-PSNR=19.0869  B-PSNR=19.4974  |  G-SSIM=0.8232  M-SSIM=0.7873  B-SSIM=0.8190  |  LPIPS-G=0.3653  LPIPS-M=0.0967  LPIPS-B=0.2633
Epoch  18:  G-PSNR=19.9582  M-PSNR=20.0427  B-PSNR=20.1556  |  G-SSIM=0.8384  M-SSIM=0.8082  B-SSIM=0.8321  |  LPIPS-G=0.3455  LPIPS-M=0.0862  LPIPS-B=0.2483
Epoch  19:  G-PSNR=19.8510  M-PSNR=19.8963  B-PSNR=20.0291  |  G-SSIM=0.8386  M-SSIM=0.8088  B-SSIM=0.8327  |  LPIPS-G=0.3445  LPIPS-M=0.0866  LPIPS-B=0.2497
Epoch  20:  G-PSNR=20.0414  M-PSNR=20.1125  B-PSNR=20.2219  |  G-SSIM=0.8427  M-SSIM=0.8129  B-SSIM=0.8367  |  LPIPS-G=0.3316  LPIPS-M=0.0845  LPIPS-B=0.2408
Epoch  21:  G-PSNR=20.3678  M-PSNR=20.5626  B-PSNR=20.5048  |  G-SSIM=0.8440  M-SSIM=0.8141  B-SSIM=0.8385  |  LPIPS-G=0.3206  LPIPS-M=0.0781  LPIPS-B=0.2328
Epoch  22:  G-PSNR=20.1880  M-PSNR=20.4983  B-PSNR=20.3047  |  G-SSIM=0.8430  M-SSIM=0.8115  B-SSIM=0.8392  |  LPIPS-G=0.3151  LPIPS-M=0.0795  LPIPS-B=0.2290
Epoch  23:  G-PSNR=18.6787  M-PSNR=18.4743  B-PSNR=18.8690  |  G-SSIM=0.8121  M-SSIM=0.7670  B-SSIM=0.8135  |  LPIPS-G=0.3161  LPIPS-M=0.0819  LPIPS-B=0.2320
Epoch  24:  G-PSNR=19.4345  M-PSNR=19.7683  B-PSNR=19.4414  |  G-SSIM=0.8486  M-SSIM=0.8187  B-SSIM=0.8436  |  LPIPS-G=0.3269  LPIPS-M=0.0840  LPIPS-B=0.2451
Epoch  25:  G-PSNR=20.5581  M-PSNR=21.2879  B-PSNR=20.5378  |  G-SSIM=0.8484  M-SSIM=0.8191  B-SSIM=0.8431  |  LPIPS-G=0.2996  LPIPS-M=0.0710  LPIPS-B=0.2212
Epoch  26:  G-PSNR=19.9380  M-PSNR=20.4937  B-PSNR=19.8690  |  G-SSIM=0.8492  M-SSIM=0.8191  B-SSIM=0.8447  |  LPIPS-G=0.3183  LPIPS-M=0.0751  LPIPS-B=0.2399
Epoch  27:  G-PSNR=20.9735  M-PSNR=21.7575  B-PSNR=20.8975  |  G-SSIM=0.8432  M-SSIM=0.8134  B-SSIM=0.8374  |  LPIPS-G=0.2887  LPIPS-M=0.0681  LPIPS-B=0.2146
Epoch  28:  G-PSNR=20.2260  M-PSNR=20.6773  B-PSNR=20.2391  |  G-SSIM=0.8517  M-SSIM=0.8209  B-SSIM=0.8486  |  LPIPS-G=0.2901  LPIPS-M=0.0721  LPIPS-B=0.2142
Epoch  29:  G-PSNR=20.5743  M-PSNR=21.1629  B-PSNR=20.6367  |  G-SSIM=0.8535  M-SSIM=0.8236  B-SSIM=0.8496  |  LPIPS-G=0.2856  LPIPS-M=0.0724  LPIPS-B=0.2108
Epoch  30:  G-PSNR=19.4335  M-PSNR=19.5776  B-PSNR=19.5005  |  G-SSIM=0.8424  M-SSIM=0.8043  B-SSIM=0.8422  |  LPIPS-G=0.2947  LPIPS-M=0.0780  LPIPS-B=0.2211
Epoch  31:  G-PSNR=19.8807  M-PSNR=20.2500  B-PSNR=19.8290  |  G-SSIM=0.8546  M-SSIM=0.8241  B-SSIM=0.8512  |  LPIPS-G=0.2971  LPIPS-M=0.0747  LPIPS-B=0.2243
Epoch  32:  G-PSNR=20.5830  M-PSNR=20.8357  B-PSNR=20.6621  |  G-SSIM=0.8488  M-SSIM=0.8149  B-SSIM=0.8474  |  LPIPS-G=0.2788  LPIPS-M=0.0703  LPIPS-B=0.2053
Epoch  33:  G-PSNR=21.0238  M-PSNR=21.7276  B-PSNR=20.9556  |  G-SSIM=0.8538  M-SSIM=0.8237  B-SSIM=0.8497  |  LPIPS-G=0.2779  LPIPS-M=0.0661  LPIPS-B=0.2074
Epoch  34:  G-PSNR=20.3249  M-PSNR=20.4916  B-PSNR=20.4509  |  G-SSIM=0.8433  M-SSIM=0.8060  B-SSIM=0.8435  |  LPIPS-G=0.2763  LPIPS-M=0.0729  LPIPS-B=0.2043
Epoch  35:  G-PSNR=20.6130  M-PSNR=20.9743  B-PSNR=20.6282  |  G-SSIM=0.8554  M-SSIM=0.8234  B-SSIM=0.8538  |  LPIPS-G=0.2657  LPIPS-M=0.0640  LPIPS-B=0.1976
Epoch  36:  G-PSNR=21.1286  M-PSNR=21.7422  B-PSNR=21.1550  |  G-SSIM=0.8585  M-SSIM=0.8283  B-SSIM=0.8560  |  LPIPS-G=0.2609  LPIPS-M=0.0645  LPIPS-B=0.1933
Epoch  37:  G-PSNR=20.7080  M-PSNR=20.9881  B-PSNR=20.8411  |  G-SSIM=0.8516  M-SSIM=0.8155  B-SSIM=0.8521  |  LPIPS-G=0.2620  LPIPS-M=0.0685  LPIPS-B=0.1944
Epoch  38:  G-PSNR=21.0187  M-PSNR=21.6999  B-PSNR=20.9998  |  G-SSIM=0.8570  M-SSIM=0.8273  B-SSIM=0.8537  |  LPIPS-G=0.2660  LPIPS-M=0.0667  LPIPS-B=0.1998
Epoch  39:  G-PSNR=20.6264  M-PSNR=20.7734  B-PSNR=20.7560  |  G-SSIM=0.8485  M-SSIM=0.8111  B-SSIM=0.8497  |  LPIPS-G=0.2609  LPIPS-M=0.0696  LPIPS-B=0.1932
Epoch  40:  G-PSNR=20.3593  M-PSNR=20.7930  B-PSNR=20.3242  |  G-SSIM=0.8579  M-SSIM=0.8254  B-SSIM=0.8570  |  LPIPS-G=0.2642  LPIPS-M=0.0675  LPIPS-B=0.1992
Epoch  41:  G-PSNR=20.8031  M-PSNR=21.1713  B-PSNR=20.7745  |  G-SSIM=0.8593  M-SSIM=0.8283  B-SSIM=0.8580  |  LPIPS-G=0.2598  LPIPS-M=0.0640  LPIPS-B=0.1949
Epoch  42:  G-PSNR=20.5378  M-PSNR=21.3104  B-PSNR=20.5111  |  G-SSIM=0.8595  M-SSIM=0.8291  B-SSIM=0.8574  |  LPIPS-G=0.2591  LPIPS-M=0.0648  LPIPS-B=0.1961
Epoch  43:  G-PSNR=20.9320  M-PSNR=21.2805  B-PSNR=20.9581  |  G-SSIM=0.8593  M-SSIM=0.8276  B-SSIM=0.8587  |  LPIPS-G=0.2453  LPIPS-M=0.0621  LPIPS-B=0.1824
Epoch  44:  G-PSNR=20.9460  M-PSNR=21.3122  B-PSNR=20.9604  |  G-SSIM=0.8607  M-SSIM=0.8285  B-SSIM=0.8608  |  LPIPS-G=0.2415  LPIPS-M=0.0607  LPIPS-B=0.1800
Epoch  45:  G-PSNR=20.4674  M-PSNR=20.6284  B-PSNR=20.4930  |  G-SSIM=0.8514  M-SSIM=0.8141  B-SSIM=0.8532  |  LPIPS-G=0.2466  LPIPS-M=0.0631  LPIPS-B=0.1855
Epoch  46:  G-PSNR=19.9369  M-PSNR=20.0255  B-PSNR=20.0787  |  G-SSIM=0.8500  M-SSIM=0.8111  B-SSIM=0.8530  |  LPIPS-G=0.2688  LPIPS-M=0.0771  LPIPS-B=0.2027
Epoch  47:  G-PSNR=21.4804  M-PSNR=21.9754  B-PSNR=21.4325  |  G-SSIM=0.8602  M-SSIM=0.8296  B-SSIM=0.8586  |  LPIPS-G=0.2365  LPIPS-M=0.0582  LPIPS-B=0.1776
Epoch  48:  G-PSNR=21.2357  M-PSNR=21.5572  B-PSNR=21.2366  |  G-SSIM=0.8635  M-SSIM=0.8324  B-SSIM=0.8632  |  LPIPS-G=0.2363  LPIPS-M=0.0581  LPIPS-B=0.1773
Epoch  49:  G-PSNR=21.2075  M-PSNR=21.6123  B-PSNR=21.1307  |  G-SSIM=0.8612  M-SSIM=0.8298  B-SSIM=0.8604  |  LPIPS-G=0.2319  LPIPS-M=0.0580  LPIPS-B=0.1745
Epoch  50:  G-PSNR=21.1452  M-PSNR=21.3801  B-PSNR=21.2647  |  G-SSIM=0.8612  M-SSIM=0.8286  B-SSIM=0.8621  |  LPIPS-G=0.2395  LPIPS-M=0.0638  LPIPS-B=0.1795
"""

# ==========================================
# 区域 2: 自动解析与绘图逻辑
# ==========================================

def parse_log_text(log_text):
    """
    解析 M-PSNR (Portrait) 和 B-PSNR (Background)
    """
    m_psnrs = []
    b_psnrs = []
    
    lines = log_text.strip().split('\n')
    for line in lines:
        # 正则表达式提取 M-PSNR 和 B-PSNR
        # 格式参考: G-PSNR=9.9482  M-PSNR=10.0802  B-PSNR=9.8798
        m_match = re.search(r'M-PSNR=([\d\.]+)', line)
        b_match = re.search(r'B-PSNR=([\d\.]+)', line)
        
        if m_match and b_match:
            m_psnrs.append(float(m_match.group(1)))
            b_psnrs.append(float(b_match.group(1)))
            
    # 转 numpy 数组
    m_data = np.array(m_psnrs)
    b_data = np.array(b_psnrs)
    
    # 截取前 50 个点 (防止数据有多余空行)
    if len(m_data) > 50:
        m_data = m_data[:50]
        b_data = b_data[:50]
        
    return m_data, b_data

# 定义实验列表
experiments = [
    (log_lambda_0,    r'$\lambda_p=0$'),
    (log_lambda_1e3,  r'$\lambda_p=10^3$'),
    (log_lambda_1e6,  r'$\lambda_p=10^6$'),
    (log_lambda_1e18, r'$\lambda_p=10^{18}$'),
    (log_gan,         'Portrait-GAN')
]

# -------------------------------------------------------
# [核心修改 1] 设置学术论文绘图风格 (Times New Roman + 细节调整)
# -------------------------------------------------------
plt.rcParams['font.family'] = 'serif'
plt.rcParams['font.serif'] = ['Times New Roman']
plt.rcParams['font.size'] = 14           # 字号加大，缩小插图后依然清晰
plt.rcParams['axes.linewidth'] = 1.0     # 坐标轴边框加粗
plt.rcParams['xtick.direction'] = 'in'   # 刻度线朝内
plt.rcParams['ytick.direction'] = 'in'   # 刻度线朝内
plt.rcParams['axes.grid'] = True         # 开启网格
plt.rcParams['grid.alpha'] = 0.3         # 网格变淡
plt.rcParams['grid.linestyle'] = '--'

# 定义颜色和线型
colors = ['#1f77b4', '#ff7f0e', '#2ca02c', '#d62728', '#9467bd']
line_styles = ['-', '--', '-.', ':', '-']

# 创建画布
fig1, ax1 = plt.subplots(figsize=(6, 4.5)) # Portrait PSNR
fig2, ax2 = plt.subplots(figsize=(6, 4.5)) # Delta PSNR

has_data = False

for i, (log_text, label) in enumerate(experiments):
    if len(log_text.strip()) < 10: continue # 跳过空数据
        
    m_vals, b_vals = parse_log_text(log_text)
    
    if len(m_vals) == 0:
        print(f"警告: {label} 未找到有效数据")
        continue

    has_data = True
    epochs = range(1, len(m_vals) + 1) # X轴: 1 到 50
    
    # 计算 Delta = Portrait - Background
    delta_vals = m_vals - b_vals
    
    # 绘制曲线
    ax1.plot(epochs, m_vals, label=label, color=colors[i], linestyle=line_styles[i], linewidth=1.5)
    ax2.plot(epochs, delta_vals, label=label, color=colors[i], linestyle=line_styles[i], linewidth=1.5)

# 保存图片逻辑
if has_data:
    # --- 图 1: Portrait PSNR 设置 ---
    ax1.set_xlabel('Epochs')
    ax1.set_ylabel('Portrait PSNR (dB)')
    # 图例设置：放在右下角，加边框
    ax1.legend(loc='lower right', frameon=True, edgecolor='black', fancybox=False, fontsize=12)
    
    fig1.tight_layout()
    fig1.savefig('ablation_portrait_psnr.pdf') # 保存为矢量图 PDF
    fig1.savefig('ablation_portrait_psnr.png', dpi=300)
    
    # --- 图 2: Delta PSNR 设置 (关键修改) ---
    ax2.set_xlabel('Epochs')
    ax2.set_ylabel(r'$\Delta$ PSNR (Portrait - Background) [dB]')
    ax2.legend(loc='lower right', frameon=True, edgecolor='black', fancybox=False, fontsize=12)
    
    # [核心修改 2] 强制扩大 Y 轴范围，使曲线看起来更平缓、更接近
    # 数据波动大约在 -1.5 到 1.5 之间，设置为 -4 到 4 会显著压缩视觉差异
    ax2.set_ylim(-4, 4) 
    
    # 添加一条 y=0 的灰色参考线
    ax2.axhline(y=0, color='gray', linestyle='-', linewidth=0.8, alpha=0.5)

    fig2.tight_layout()
    fig2.savefig('ablation_delta_psnr.pdf') # 保存为矢量图 PDF
    fig2.savefig('ablation_delta_psnr.png', dpi=300)
    
    print("成功生成:")
    print("1. ablation_portrait_psnr.png / .pdf")
    print("2. ablation_delta_psnr.png / .pdf (Y轴范围已扩大至 -4~4)")
else:
    print("请先在代码中填入 Log 数据！")